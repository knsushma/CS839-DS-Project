MEXICO CITY  —   Five people were killed early Monday at a crowded nightclub in the popular Caribbean tourist destination of Playa del Carmen, Mexico, when an armed man who had been denied entry opened fire inside the club, prompting a gun battle and a stampede, officials said. Four of the victims, including three members of the security team that had blocked the gunman’s entry, were hit by bullets, and the fifth victim was trampled in the resulting pandemonium, the authorities said. The shooting occurred at the Blue Parrot nightclub, which was hosting the final night of the BPM Festival, an international electronic music event that draws fans from around the world. The gunman entered the club around 2:30 a. m. but was turned away at the door because he was carrying a weapon, said Miguel Ángel Pech, the state attorney for Quintana Roo State, on the Yucatán Peninsula. The man then opened fire, and as patrons threw themselves to the ground or rushed for the exits, security guards at the club “repelled” the attacker, Mr. Pech said, adding that the guards were apparently armed. The victims included two Canadians, a Colombian, an Italian and a Mexican, and at least 15 other people were injured, including at least three Americans, the authorities said. The gunman has not been captured or identified, but several people were detained soon after the shooting and were being held for questioning, officials said. Mr. Pech, speaking at a news conference on Monday morning, did not suggest why the gunman had tried to enter the club with a weapon, but he said the attack was not an act of terrorism. In an interview with Foro TV later in the day, the state attorney said that investigators had not discounted the possibility that the attack had something to do with a fight between criminal groups or with an extortion racket. Investigators at the scene have recovered 20 casings from three firearms, officials said, though it remained unclear whether some of the bullets had been fired by weapons belonging to the security personnel or, perhaps, to one or more patrons. Humera Hamad, a resident of El Paso, Tex. who was on vacation in Playa del Carmen, said she was in the club when the shooting started. “I couldn’t see anything,” she said in an interview. “I just heard a blast and ran out of there, then started jumping fences. ” She added, “I never looked back. ” Fabian González Camacho, 33, was standing outside the club, near the entrance, and ran for safety after the attack began. “I kept thinking: ‘This is going to be a massacre. They are going to kill us all,’” he said. Survivors sought sanctuary in other nightclubs and stores, he said. “A wave of panic, uncertainty and survival kicked in,” he said. “We were all vulnerable people, having fun, getting drunk, many also doing drugs, and then this happened. ” Videos taken after the shooting and posted online showed clubgoers rushing through the streets of the resort town and crouching beneath tables outside nearby clubs and bars, stricken faces bathed in the glow of neon lights. “We are overcome with grief over this senseless act of violence,” the BPM Festival management said in a statement posted on the company’s Facebook page. The festival is an annual   event that draws D. J. s, industry professionals and revelers from around the world to Playa del Carmen, on the Caribbean coast of the Yucatán. The shooting could put a dent in the robust tourism industry of the Yucatán, which has generally been less violent than many other places in Mexico, attracting millions of visitors to its white sand beaches and Mayan ruins.