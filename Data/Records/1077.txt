NEW DELHI  —   Indian security forces in Kashmir engaged in an intense,    gun battle with militants that ended late Sunday morning, leaving four militants, two soldiers and one civilian dead, the authorities said. An additional civilian died after a protest. The police had learned that the militants were in a village, and cordoned it off late Saturday. They were conducting searches when they were fired upon by militants security forces began firing back. The violence then led to clashes between Indian security forces and large crowds of local youths who gathered to mourn the dead militants. The police used tear gas on protesters, who were pelting stones at the Indian forces. They also fired bullets and birdshot at protesters, injuring at least 21 people, one of whom later died, according to Dr. Abdul Majid, the medical superintendent of the district government hospital at Anantnag. The four militants, all residents of Kashmir and all in their 20s, were members of the rebel group Hizbul Mujahedeen, said Sridhar Patil, the police chief of Kulgam district. He said they had criminal charges, including murder and stealing arms from security forces, outstanding against them. “First we tried to convince them to surrender with the help of locals and family members,” Mr. Patil said, but they shouted back that they would not surrender. Security forces recovered three assault rifles and two pistols from the site, Mr. Patil said. Throngs of youths fought with Indian forces last summer in Kulgam. The disturbances began in July, when Indian security forces killed Burhan Wani, a top commander for Hizbul Mujahedeen. Sunday’s fight in Kulgam ended a lull of several months. Insurgents in Kashmir have been fighting for independence from India for nearly three decades, and the Indian authorities have long said that their movement is supported by Pakistan. Diplomatic ties between the two countries have frayed in recent years.